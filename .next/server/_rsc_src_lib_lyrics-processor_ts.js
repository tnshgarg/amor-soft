"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_rsc_src_lib_lyrics-processor_ts";
exports.ids = ["_rsc_src_lib_lyrics-processor_ts"];
exports.modules = {

/***/ "(rsc)/./src/lib/gemini.ts":
/*!***************************!*\
  !*** ./src/lib/gemini.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   geminiModel: () => (/* binding */ geminiModel),\n/* harmony export */   generateEmbedding: () => (/* binding */ generateEmbedding),\n/* harmony export */   optimizeLyricsPrompt: () => (/* binding */ optimizeLyricsPrompt)\n/* harmony export */ });\n/* harmony import */ var _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google/generative-ai */ \"(rsc)/./node_modules/@google/generative-ai/dist/index.mjs\");\n\nconst genAI = new _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenerativeAI(process.env.GEMINI_API_KEY);\nconst geminiModel = genAI.getGenerativeModel({\n    model: \"gemini-2.5-pro\"\n});\nasync function generateEmbedding(text) {\n    try {\n        const model = genAI.getGenerativeModel({\n            model: \"text-embedding-004\"\n        });\n        const result = await model.embedContent(text);\n        return result.embedding.values;\n    } catch (error) {\n        console.error(\"Error generating embedding:\", error);\n        throw error;\n    }\n}\nasync function optimizeLyricsPrompt(userPrompt, styleTags, similarLyrics) {\n    const prompt = `You are a professional Hindi lyricist. Write ORIGINAL, modern Bollywood-style Hindi song lyrics based on the user's request.\n\nUSER REQUEST: \"${userPrompt}\"\nSTYLE: ${styleTags.join(\", \")}\n\n${similarLyrics.length > 0 ? `REFERENCE SONGS FOR INSPIRATION:\n${similarLyrics.map((lyrics, i)=>`${i + 1}. ${lyrics.substring(0, 200)}...`).join(\"\\n\\n\")}\n\nUse these only for emotion, vibe, and flow. Do NOT copy rare, complex, or niche words; replace them with simple, melodic Hindi or minor English words.` : \"\"}\n\nSTRICT REQUIREMENTS:\n- Output ONLY Hindi song lyrics (Hinglish words allowed sparingly for natural modern feel)\n- Avoid very heavy, old-fashioned, or niche Hindi words and cultural references\n- Avoid slang, internet memes, or uncommon English words that are hard to pronounce\n- Lyrics must be easy to sing with smooth, melodic flow\n- Short to medium-length phrases; natural rhythm for modern Bollywood songs\n- Modern, youthful, romantic Hindi with memorable rhymes and emotional impact\n- Minor English words (like \"love\", \"baby\", \"forever\") are okay, max 1–2 per line\n- Song structure: [Verse], [Chorus], [Verse 2], [Chorus], [Bridge], [Outro]\n- Verses: 4–6 lines, Chorus: 4 lines\n- Maintain emotional depth and connection, with hooks that feel natural in singing\n\nOUTPUT FORMAT:\n[Verse]\nLyrics here...\n\n[Chorus]\nLyrics here...\n\n[Verse 2]\nLyrics here...\n\n[Chorus]\nLyrics here...\n\n[Bridge]\nLyrics here...\n\n[Outro]\nLyrics here...\n\nGenerate the modern Hindi lyrics now:`;\n    try {\n        const result = await geminiModel.generateContent(prompt);\n        let lyrics = result.response.text().trim();\n        // Clean the response to ensure only lyrics\n        lyrics = cleanLyricsResponse(lyrics);\n        return lyrics;\n    } catch (error) {\n        console.error(\"Error optimizing lyrics prompt:\", error);\n        throw error;\n    }\n}\n// Function to clean unwanted text from lyrics response\nfunction cleanLyricsResponse(lyrics) {\n    let cleaned = lyrics.trim();\n    // Find the start of actual lyrics (first [Section] tag)\n    const lyricsStart = cleaned.search(/\\[(Verse|Chorus|Bridge|Intro|Outro)/i);\n    if (lyricsStart !== -1) {\n        cleaned = cleaned.substring(lyricsStart);\n    }\n    // Remove common unwanted suffixes\n    const unwantedPatterns = [\n        /\\*\\*[^*]*\\*\\*/g,\n        /\\*[^*]*\\*/g,\n        /I hope these lyrics[^]*$/i,\n        /These lyrics capture[^]*$/i,\n        /The song[^]*$/i,\n        /Style Elements:[^]*$/i,\n        /Explanation[^]*$/i,\n        /Translation[^]*$/i,\n        /Meaning[^]*$/i,\n        /Note:[^]*$/i,\n        /Here are[^]*$/i,\n        /This song[^]*$/i\n    ];\n    for (const pattern of unwantedPatterns){\n        cleaned = cleaned.replace(pattern, \"\");\n    }\n    // Remove any trailing explanatory text after the last verse/chorus/bridge/outro\n    const lastSectionMatch = cleaned.match(/(\\[(?:Verse|Chorus|Bridge|Outro)[^\\]]*\\][^]*?)(?:\\n\\n[A-Z]|$)/i);\n    if (lastSectionMatch) {\n        const lastSectionEnd = cleaned.lastIndexOf(lastSectionMatch[1]) + lastSectionMatch[1].length;\n        cleaned = cleaned.substring(0, lastSectionEnd);\n    }\n    return cleaned.trim();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2dlbWluaS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTJEO0FBRTNELE1BQU1DLFFBQVEsSUFBSUQscUVBQWtCQSxDQUFDRSxRQUFRQyxHQUFHLENBQUNDLGNBQWM7QUFFeEQsTUFBTUMsY0FBY0osTUFBTUssa0JBQWtCLENBQUM7SUFDbERDLE9BQU87QUFDVCxHQUFHO0FBRUksZUFBZUMsa0JBQWtCQyxJQUFZO0lBQ2xELElBQUk7UUFDRixNQUFNRixRQUFRTixNQUFNSyxrQkFBa0IsQ0FBQztZQUFFQyxPQUFPO1FBQXFCO1FBQ3JFLE1BQU1HLFNBQVMsTUFBTUgsTUFBTUksWUFBWSxDQUFDRjtRQUN4QyxPQUFPQyxPQUFPRSxTQUFTLENBQUNDLE1BQU07SUFDaEMsRUFBRSxPQUFPQyxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQywrQkFBK0JBO1FBQzdDLE1BQU1BO0lBQ1I7QUFDRjtBQUVPLGVBQWVFLHFCQUNwQkMsVUFBa0IsRUFDbEJDLFNBQW1CLEVBQ25CQyxhQUF1QjtJQUV2QixNQUFNQyxTQUFTLENBQUM7O2VBRUgsRUFBRUgsV0FBVztPQUNyQixFQUFFQyxVQUFVRyxJQUFJLENBQUMsTUFBTTs7QUFFOUIsRUFDRUYsY0FBY0csTUFBTSxHQUFHLElBQ25CLENBQUM7QUFDUCxFQUFFSCxjQUNDSSxHQUFHLENBQUMsQ0FBQ0MsUUFBUUMsSUFBTSxHQUFHQSxJQUFJLEVBQUUsRUFBRSxFQUFFRCxPQUFPRSxTQUFTLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxFQUM3REwsSUFBSSxDQUFDLFFBQVE7O3NKQUVzSSxDQUFDLEdBQ2pKLEdBQ0w7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztxQ0FpQ29DLENBQUM7SUFFcEMsSUFBSTtRQUNGLE1BQU1YLFNBQVMsTUFBTUwsWUFBWXNCLGVBQWUsQ0FBQ1A7UUFDakQsSUFBSUksU0FBU2QsT0FBT2tCLFFBQVEsQ0FBQ25CLElBQUksR0FBR29CLElBQUk7UUFFeEMsMkNBQTJDO1FBQzNDTCxTQUFTTSxvQkFBb0JOO1FBRTdCLE9BQU9BO0lBQ1QsRUFBRSxPQUFPVixPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxtQ0FBbUNBO1FBQ2pELE1BQU1BO0lBQ1I7QUFDRjtBQUVBLHVEQUF1RDtBQUN2RCxTQUFTZ0Isb0JBQW9CTixNQUFjO0lBQ3pDLElBQUlPLFVBQVVQLE9BQU9LLElBQUk7SUFFekIsd0RBQXdEO0lBQ3hELE1BQU1HLGNBQWNELFFBQVFFLE1BQU0sQ0FBQztJQUNuQyxJQUFJRCxnQkFBZ0IsQ0FBQyxHQUFHO1FBQ3RCRCxVQUFVQSxRQUFRTCxTQUFTLENBQUNNO0lBQzlCO0lBRUEsa0NBQWtDO0lBQ2xDLE1BQU1FLG1CQUFtQjtRQUN2QjtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7S0FDRDtJQUVELEtBQUssTUFBTUMsV0FBV0QsaUJBQWtCO1FBQ3RDSCxVQUFVQSxRQUFRSyxPQUFPLENBQUNELFNBQVM7SUFDckM7SUFFQSxnRkFBZ0Y7SUFDaEYsTUFBTUUsbUJBQW1CTixRQUFRTyxLQUFLLENBQ3BDO0lBRUYsSUFBSUQsa0JBQWtCO1FBQ3BCLE1BQU1FLGlCQUNKUixRQUFRUyxXQUFXLENBQUNILGdCQUFnQixDQUFDLEVBQUUsSUFBSUEsZ0JBQWdCLENBQUMsRUFBRSxDQUFDZixNQUFNO1FBQ3ZFUyxVQUFVQSxRQUFRTCxTQUFTLENBQUMsR0FBR2E7SUFDakM7SUFFQSxPQUFPUixRQUFRRixJQUFJO0FBQ3JCIiwic291cmNlcyI6WyIvVXNlcnMvdGFuaXNoL0RvY3VtZW50cy9BbW9yIEJ1c2luZXNzL0Ftb3ItV2Vic2l0ZS9zcmMvbGliL2dlbWluaS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBHb29nbGVHZW5lcmF0aXZlQUkgfSBmcm9tIFwiQGdvb2dsZS9nZW5lcmF0aXZlLWFpXCI7XG5cbmNvbnN0IGdlbkFJID0gbmV3IEdvb2dsZUdlbmVyYXRpdmVBSShwcm9jZXNzLmVudi5HRU1JTklfQVBJX0tFWSEpO1xuXG5leHBvcnQgY29uc3QgZ2VtaW5pTW9kZWwgPSBnZW5BSS5nZXRHZW5lcmF0aXZlTW9kZWwoe1xuICBtb2RlbDogXCJnZW1pbmktMi41LXByb1wiLFxufSk7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUVtYmVkZGluZyh0ZXh0OiBzdHJpbmcpOiBQcm9taXNlPG51bWJlcltdPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgbW9kZWwgPSBnZW5BSS5nZXRHZW5lcmF0aXZlTW9kZWwoeyBtb2RlbDogXCJ0ZXh0LWVtYmVkZGluZy0wMDRcIiB9KTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBtb2RlbC5lbWJlZENvbnRlbnQodGV4dCk7XG4gICAgcmV0dXJuIHJlc3VsdC5lbWJlZGRpbmcudmFsdWVzO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBnZW5lcmF0aW5nIGVtYmVkZGluZzpcIiwgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBvcHRpbWl6ZUx5cmljc1Byb21wdChcbiAgdXNlclByb21wdDogc3RyaW5nLFxuICBzdHlsZVRhZ3M6IHN0cmluZ1tdLFxuICBzaW1pbGFyTHlyaWNzOiBzdHJpbmdbXVxuKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgY29uc3QgcHJvbXB0ID0gYFlvdSBhcmUgYSBwcm9mZXNzaW9uYWwgSGluZGkgbHlyaWNpc3QuIFdyaXRlIE9SSUdJTkFMLCBtb2Rlcm4gQm9sbHl3b29kLXN0eWxlIEhpbmRpIHNvbmcgbHlyaWNzIGJhc2VkIG9uIHRoZSB1c2VyJ3MgcmVxdWVzdC5cblxuVVNFUiBSRVFVRVNUOiBcIiR7dXNlclByb21wdH1cIlxuU1RZTEU6ICR7c3R5bGVUYWdzLmpvaW4oXCIsIFwiKX1cblxuJHtcbiAgc2ltaWxhckx5cmljcy5sZW5ndGggPiAwXG4gICAgPyBgUkVGRVJFTkNFIFNPTkdTIEZPUiBJTlNQSVJBVElPTjpcbiR7c2ltaWxhckx5cmljc1xuICAubWFwKChseXJpY3MsIGkpID0+IGAke2kgKyAxfS4gJHtseXJpY3Muc3Vic3RyaW5nKDAsIDIwMCl9Li4uYClcbiAgLmpvaW4oXCJcXG5cXG5cIil9XG5cblVzZSB0aGVzZSBvbmx5IGZvciBlbW90aW9uLCB2aWJlLCBhbmQgZmxvdy4gRG8gTk9UIGNvcHkgcmFyZSwgY29tcGxleCwgb3IgbmljaGUgd29yZHM7IHJlcGxhY2UgdGhlbSB3aXRoIHNpbXBsZSwgbWVsb2RpYyBIaW5kaSBvciBtaW5vciBFbmdsaXNoIHdvcmRzLmBcbiAgICA6IFwiXCJcbn1cblxuU1RSSUNUIFJFUVVJUkVNRU5UUzpcbi0gT3V0cHV0IE9OTFkgSGluZGkgc29uZyBseXJpY3MgKEhpbmdsaXNoIHdvcmRzIGFsbG93ZWQgc3BhcmluZ2x5IGZvciBuYXR1cmFsIG1vZGVybiBmZWVsKVxuLSBBdm9pZCB2ZXJ5IGhlYXZ5LCBvbGQtZmFzaGlvbmVkLCBvciBuaWNoZSBIaW5kaSB3b3JkcyBhbmQgY3VsdHVyYWwgcmVmZXJlbmNlc1xuLSBBdm9pZCBzbGFuZywgaW50ZXJuZXQgbWVtZXMsIG9yIHVuY29tbW9uIEVuZ2xpc2ggd29yZHMgdGhhdCBhcmUgaGFyZCB0byBwcm9ub3VuY2Vcbi0gTHlyaWNzIG11c3QgYmUgZWFzeSB0byBzaW5nIHdpdGggc21vb3RoLCBtZWxvZGljIGZsb3dcbi0gU2hvcnQgdG8gbWVkaXVtLWxlbmd0aCBwaHJhc2VzOyBuYXR1cmFsIHJoeXRobSBmb3IgbW9kZXJuIEJvbGx5d29vZCBzb25nc1xuLSBNb2Rlcm4sIHlvdXRoZnVsLCByb21hbnRpYyBIaW5kaSB3aXRoIG1lbW9yYWJsZSByaHltZXMgYW5kIGVtb3Rpb25hbCBpbXBhY3Rcbi0gTWlub3IgRW5nbGlzaCB3b3JkcyAobGlrZSBcImxvdmVcIiwgXCJiYWJ5XCIsIFwiZm9yZXZlclwiKSBhcmUgb2theSwgbWF4IDHigJMyIHBlciBsaW5lXG4tIFNvbmcgc3RydWN0dXJlOiBbVmVyc2VdLCBbQ2hvcnVzXSwgW1ZlcnNlIDJdLCBbQ2hvcnVzXSwgW0JyaWRnZV0sIFtPdXRyb11cbi0gVmVyc2VzOiA04oCTNiBsaW5lcywgQ2hvcnVzOiA0IGxpbmVzXG4tIE1haW50YWluIGVtb3Rpb25hbCBkZXB0aCBhbmQgY29ubmVjdGlvbiwgd2l0aCBob29rcyB0aGF0IGZlZWwgbmF0dXJhbCBpbiBzaW5naW5nXG5cbk9VVFBVVCBGT1JNQVQ6XG5bVmVyc2VdXG5MeXJpY3MgaGVyZS4uLlxuXG5bQ2hvcnVzXVxuTHlyaWNzIGhlcmUuLi5cblxuW1ZlcnNlIDJdXG5MeXJpY3MgaGVyZS4uLlxuXG5bQ2hvcnVzXVxuTHlyaWNzIGhlcmUuLi5cblxuW0JyaWRnZV1cbkx5cmljcyBoZXJlLi4uXG5cbltPdXRyb11cbkx5cmljcyBoZXJlLi4uXG5cbkdlbmVyYXRlIHRoZSBtb2Rlcm4gSGluZGkgbHlyaWNzIG5vdzpgO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2VtaW5pTW9kZWwuZ2VuZXJhdGVDb250ZW50KHByb21wdCk7XG4gICAgbGV0IGx5cmljcyA9IHJlc3VsdC5yZXNwb25zZS50ZXh0KCkudHJpbSgpO1xuXG4gICAgLy8gQ2xlYW4gdGhlIHJlc3BvbnNlIHRvIGVuc3VyZSBvbmx5IGx5cmljc1xuICAgIGx5cmljcyA9IGNsZWFuTHlyaWNzUmVzcG9uc2UobHlyaWNzKTtcblxuICAgIHJldHVybiBseXJpY3M7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIG9wdGltaXppbmcgbHlyaWNzIHByb21wdDpcIiwgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbi8vIEZ1bmN0aW9uIHRvIGNsZWFuIHVud2FudGVkIHRleHQgZnJvbSBseXJpY3MgcmVzcG9uc2VcbmZ1bmN0aW9uIGNsZWFuTHlyaWNzUmVzcG9uc2UobHlyaWNzOiBzdHJpbmcpOiBzdHJpbmcge1xuICBsZXQgY2xlYW5lZCA9IGx5cmljcy50cmltKCk7XG5cbiAgLy8gRmluZCB0aGUgc3RhcnQgb2YgYWN0dWFsIGx5cmljcyAoZmlyc3QgW1NlY3Rpb25dIHRhZylcbiAgY29uc3QgbHlyaWNzU3RhcnQgPSBjbGVhbmVkLnNlYXJjaCgvXFxbKFZlcnNlfENob3J1c3xCcmlkZ2V8SW50cm98T3V0cm8pL2kpO1xuICBpZiAobHlyaWNzU3RhcnQgIT09IC0xKSB7XG4gICAgY2xlYW5lZCA9IGNsZWFuZWQuc3Vic3RyaW5nKGx5cmljc1N0YXJ0KTtcbiAgfVxuXG4gIC8vIFJlbW92ZSBjb21tb24gdW53YW50ZWQgc3VmZml4ZXNcbiAgY29uc3QgdW53YW50ZWRQYXR0ZXJucyA9IFtcbiAgICAvXFwqXFwqW14qXSpcXCpcXCovZywgLy8gQm9sZCB0ZXh0XG4gICAgL1xcKlteKl0qXFwqL2csIC8vIEl0YWxpYyB0ZXh0XG4gICAgL0kgaG9wZSB0aGVzZSBseXJpY3NbXl0qJC9pLFxuICAgIC9UaGVzZSBseXJpY3MgY2FwdHVyZVteXSokL2ksXG4gICAgL1RoZSBzb25nW15dKiQvaSxcbiAgICAvU3R5bGUgRWxlbWVudHM6W15dKiQvaSxcbiAgICAvRXhwbGFuYXRpb25bXl0qJC9pLFxuICAgIC9UcmFuc2xhdGlvblteXSokL2ksXG4gICAgL01lYW5pbmdbXl0qJC9pLFxuICAgIC9Ob3RlOlteXSokL2ksXG4gICAgL0hlcmUgYXJlW15dKiQvaSxcbiAgICAvVGhpcyBzb25nW15dKiQvaSxcbiAgXTtcblxuICBmb3IgKGNvbnN0IHBhdHRlcm4gb2YgdW53YW50ZWRQYXR0ZXJucykge1xuICAgIGNsZWFuZWQgPSBjbGVhbmVkLnJlcGxhY2UocGF0dGVybiwgXCJcIik7XG4gIH1cblxuICAvLyBSZW1vdmUgYW55IHRyYWlsaW5nIGV4cGxhbmF0b3J5IHRleHQgYWZ0ZXIgdGhlIGxhc3QgdmVyc2UvY2hvcnVzL2JyaWRnZS9vdXRyb1xuICBjb25zdCBsYXN0U2VjdGlvbk1hdGNoID0gY2xlYW5lZC5tYXRjaChcbiAgICAvKFxcWyg/OlZlcnNlfENob3J1c3xCcmlkZ2V8T3V0cm8pW15cXF1dKlxcXVteXSo/KSg/OlxcblxcbltBLVpdfCQpL2lcbiAgKTtcbiAgaWYgKGxhc3RTZWN0aW9uTWF0Y2gpIHtcbiAgICBjb25zdCBsYXN0U2VjdGlvbkVuZCA9XG4gICAgICBjbGVhbmVkLmxhc3RJbmRleE9mKGxhc3RTZWN0aW9uTWF0Y2hbMV0pICsgbGFzdFNlY3Rpb25NYXRjaFsxXS5sZW5ndGg7XG4gICAgY2xlYW5lZCA9IGNsZWFuZWQuc3Vic3RyaW5nKDAsIGxhc3RTZWN0aW9uRW5kKTtcbiAgfVxuXG4gIHJldHVybiBjbGVhbmVkLnRyaW0oKTtcbn1cbiJdLCJuYW1lcyI6WyJHb29nbGVHZW5lcmF0aXZlQUkiLCJnZW5BSSIsInByb2Nlc3MiLCJlbnYiLCJHRU1JTklfQVBJX0tFWSIsImdlbWluaU1vZGVsIiwiZ2V0R2VuZXJhdGl2ZU1vZGVsIiwibW9kZWwiLCJnZW5lcmF0ZUVtYmVkZGluZyIsInRleHQiLCJyZXN1bHQiLCJlbWJlZENvbnRlbnQiLCJlbWJlZGRpbmciLCJ2YWx1ZXMiLCJlcnJvciIsImNvbnNvbGUiLCJvcHRpbWl6ZUx5cmljc1Byb21wdCIsInVzZXJQcm9tcHQiLCJzdHlsZVRhZ3MiLCJzaW1pbGFyTHlyaWNzIiwicHJvbXB0Iiwiam9pbiIsImxlbmd0aCIsIm1hcCIsImx5cmljcyIsImkiLCJzdWJzdHJpbmciLCJnZW5lcmF0ZUNvbnRlbnQiLCJyZXNwb25zZSIsInRyaW0iLCJjbGVhbkx5cmljc1Jlc3BvbnNlIiwiY2xlYW5lZCIsImx5cmljc1N0YXJ0Iiwic2VhcmNoIiwidW53YW50ZWRQYXR0ZXJucyIsInBhdHRlcm4iLCJyZXBsYWNlIiwibGFzdFNlY3Rpb25NYXRjaCIsIm1hdGNoIiwibGFzdFNlY3Rpb25FbmQiLCJsYXN0SW5kZXhPZiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/gemini.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/lyrics-processor.ts":
/*!*************************************!*\
  !*** ./src/lib/lyrics-processor.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   findSimilarLyrics: () => (/* binding */ findSimilarLyrics),\n/* harmony export */   processLyricsCSV: () => (/* binding */ processLyricsCSV)\n/* harmony export */ });\n/* harmony import */ var _supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./supabase */ \"(rsc)/./src/lib/supabase.ts\");\n/* harmony import */ var _gemini__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./gemini */ \"(rsc)/./src/lib/gemini.ts\");\n/* harmony import */ var papaparse__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! papaparse */ \"(rsc)/./node_modules/papaparse/papaparse.js\");\n/* harmony import */ var papaparse__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(papaparse__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nasync function processLyricsCSV(csvPath) {\n    try {\n        const csvContent = fs__WEBPACK_IMPORTED_MODULE_3___default().readFileSync(csvPath, \"utf-8\");\n        const results = papaparse__WEBPACK_IMPORTED_MODULE_2___default().parse(csvContent, {\n            header: true,\n            skipEmptyLines: true\n        });\n        const lyricsData = results.data.map((row)=>({\n                songTitle: row[\"Song Title\"] || \"\",\n                hindiLyrics: row[\"Hindi Lyrics\"] || \"\",\n                englishTranslation: row[\"English Translations\"] || \"\"\n            }));\n        console.log(`Processing ${lyricsData.length} songs...`);\n        // Clear existing data first\n        console.log(\"Clearing existing lyrics data...\");\n        const { error: clearError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"lyrics_index\").delete().neq(\"id\", 0); // Delete all rows\n        if (clearError) {\n            console.error(\"Error clearing existing data:\", clearError);\n        } else {\n            console.log(\"✓ Cleared existing lyrics data\");\n        }\n        let processed = 0;\n        let skipped = 0;\n        for(let i = 0; i < lyricsData.length; i++){\n            const song = lyricsData[i];\n            if (!song.songTitle || !song.hindiLyrics) {\n                skipped++;\n                continue;\n            }\n            try {\n                // Clean the Hindi lyrics - remove Python list format\n                let cleanLyrics = song.hindiLyrics;\n                // If it's a string representation of a Python list, parse it\n                if (cleanLyrics.startsWith(\"['\") && cleanLyrics.endsWith(\"']\")) {\n                    try {\n                        // Convert Python list string to actual array\n                        const lyricsArray = JSON.parse(cleanLyrics.replace(/'/g, '\"'));\n                        // Join the array elements, skip 'Lyrics' and numbers\n                        cleanLyrics = lyricsArray.filter((line)=>line !== \"Lyrics\" && !/^\\d+$/.test(line)).join(\"\\n\").trim();\n                    } catch (parseError) {\n                        // If parsing fails, use original\n                        console.log(`Could not parse lyrics for ${song.songTitle}, using original`);\n                    }\n                }\n                if (!cleanLyrics || cleanLyrics.length < 10) {\n                    skipped++;\n                    continue;\n                }\n                // Generate embedding for the cleaned Hindi lyrics\n                const embedding = await (0,_gemini__WEBPACK_IMPORTED_MODULE_1__.generateEmbedding)(cleanLyrics);\n                // Insert into lyrics_index table\n                const { error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"lyrics_index\").insert({\n                    song_name: song.songTitle,\n                    lyrics_text: cleanLyrics,\n                    embedding: embedding\n                });\n                if (error) {\n                    console.error(`Error inserting song ${song.songTitle}:`, error);\n                    skipped++;\n                } else {\n                    processed++;\n                    if (processed % 100 === 0) {\n                        console.log(`✓ Processed ${processed} songs...`);\n                    }\n                }\n                // Add a small delay to avoid rate limiting\n                await new Promise((resolve)=>setTimeout(resolve, 200));\n            } catch (error) {\n                console.error(`Error processing song ${song.songTitle}:`, error);\n                skipped++;\n            }\n        }\n        console.log(`\\n✅ Lyrics processing completed!`);\n        console.log(`   Processed: ${processed} songs`);\n        console.log(`   Skipped: ${skipped} songs`);\n        console.log(`   Total: ${lyricsData.length} songs`);\n    } catch (error) {\n        console.error(\"Error processing lyrics CSV:\", error);\n        throw error;\n    }\n}\nasync function findSimilarLyrics(queryText, matchCount = 5, matchThreshold = 0.01 // Very low threshold for better matches\n) {\n    try {\n        console.log(`🔍 Finding similar lyrics for: \"${queryText}\"`);\n        // Strategy 1: Try embedding similarity search\n        try {\n            const queryEmbedding = await (0,_gemini__WEBPACK_IMPORTED_MODULE_1__.generateEmbedding)(queryText);\n            const { data: embeddingResults, error: embeddingError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.rpc(\"match_lyrics\", {\n                query_embedding: queryEmbedding,\n                match_threshold: matchThreshold,\n                match_count: matchCount\n            });\n            if (!embeddingError && embeddingResults && embeddingResults.length > 0) {\n                console.log(`✅ Found ${embeddingResults.length} songs via embedding similarity`);\n                return embeddingResults.map((result)=>({\n                        song_name: result.song_name,\n                        lyrics_text: result.lyrics_text,\n                        similarity: result.similarity\n                    }));\n            }\n        } catch (embeddingError) {\n            console.log(`⚠️ Embedding search failed: ${embeddingError}`);\n        }\n        // Strategy 2: Text-based keyword search\n        console.log(`🔍 Trying text-based keyword search...`);\n        const keywords = queryText.toLowerCase().split(/\\s+/).filter((word)=>word.length > 2 && ![\n                \"the\",\n                \"and\",\n                \"for\",\n                \"are\",\n                \"but\",\n                \"not\",\n                \"you\",\n                \"all\",\n                \"can\",\n                \"had\",\n                \"her\",\n                \"was\",\n                \"one\",\n                \"our\",\n                \"out\",\n                \"day\",\n                \"get\",\n                \"has\",\n                \"him\",\n                \"his\",\n                \"how\",\n                \"its\",\n                \"may\",\n                \"new\",\n                \"now\",\n                \"old\",\n                \"see\",\n                \"two\",\n                \"who\",\n                \"boy\",\n                \"did\",\n                \"she\",\n                \"use\",\n                \"way\",\n                \"who\",\n                \"oil\",\n                \"sit\",\n                \"set\"\n            ].includes(word));\n        if (keywords.length > 0) {\n            // Search for songs containing any of the keywords\n            const searchConditions = keywords.map((keyword)=>`song_name.ilike.%${keyword}%,lyrics_text.ilike.%${keyword}%`).join(\",\");\n            const { data: textResults, error: textError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"lyrics_index\").select(\"song_name, lyrics_text\").or(searchConditions).limit(matchCount);\n            if (!textError && textResults && textResults.length > 0) {\n                console.log(`✅ Found ${textResults.length} songs via text search for keywords: ${keywords.join(\", \")}`);\n                return textResults.map((result)=>({\n                        song_name: result.song_name,\n                        lyrics_text: result.lyrics_text\n                    }));\n            }\n        }\n        // Strategy 3: Random popular songs fallback\n        console.log(`🎲 Using random song fallback...`);\n        const { data: randomResults, error: randomError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"lyrics_index\").select(\"song_name, lyrics_text\").limit(matchCount);\n        if (!randomError && randomResults && randomResults.length > 0) {\n            console.log(`✅ Using ${randomResults.length} random songs as fallback`);\n            return randomResults.map((result)=>({\n                    song_name: result.song_name,\n                    lyrics_text: result.lyrics_text\n                }));\n        }\n        // Strategy 4: Hardcoded fallback for when database is empty\n        console.log(`⚠️ Database appears empty, using hardcoded fallback`);\n        return [\n            {\n                song_name: \"Yeh Dosti\",\n                lyrics_text: \"Yeh dosti hum nahin todhenge\\nTodhenge dum magar\\nTera saath na chhodenge\"\n            },\n            {\n                song_name: \"Haan Jab Tak Hain Jaan\",\n                lyrics_text: \"Haan jab tak hain jaan\\nJaane jahaan main naachoongi\\nPyar kabhi bhi marta nahin\"\n            },\n            {\n                song_name: \"Koi Haseena\",\n                lyrics_text: \"Koi haseena jab rooth jaati hain toh\\nAur bhi haseen ho jaati hain\"\n            }\n        ];\n    } catch (error) {\n        console.error(\"Error in findSimilarLyrics:\", error);\n        // Final fallback\n        return [\n            {\n                song_name: \"Classic Hindi Song\",\n                lyrics_text: \"Dil mein basi hai teri yaad\\nSapno mein aata hai tera chehra\\nMohabbat ki yeh kahani\"\n            }\n        ];\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2x5cmljcy1wcm9jZXNzb3IudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBMkM7QUFDRTtBQUNoQjtBQUNUO0FBU2IsZUFBZUksaUJBQWlCQyxPQUFlO0lBQ3BELElBQUk7UUFDRixNQUFNQyxhQUFhSCxzREFBZSxDQUFDRSxTQUFTO1FBRTVDLE1BQU1HLFVBQVVOLHNEQUFVLENBQUNJLFlBQVk7WUFDckNJLFFBQVE7WUFDUkMsZ0JBQWdCO1FBQ2xCO1FBRUEsTUFBTUMsYUFBMkJKLFFBQVFLLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUNDLE1BQWM7Z0JBQy9EQyxXQUFXRCxHQUFHLENBQUMsYUFBYSxJQUFJO2dCQUNoQ0UsYUFBYUYsR0FBRyxDQUFDLGVBQWUsSUFBSTtnQkFDcENHLG9CQUFvQkgsR0FBRyxDQUFDLHVCQUF1QixJQUFJO1lBQ3JEO1FBRUFJLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLFdBQVcsRUFBRVIsV0FBV1MsTUFBTSxDQUFDLFNBQVMsQ0FBQztRQUV0RCw0QkFBNEI7UUFDNUJGLFFBQVFDLEdBQUcsQ0FBQztRQUNaLE1BQU0sRUFBRUUsT0FBT0MsVUFBVSxFQUFFLEdBQUcsTUFBTXZCLG9EQUFhQSxDQUM5Q3dCLElBQUksQ0FBQyxnQkFDTEMsTUFBTSxHQUNOQyxHQUFHLENBQUMsTUFBTSxJQUFJLGtCQUFrQjtRQUVuQyxJQUFJSCxZQUFZO1lBQ2RKLFFBQVFHLEtBQUssQ0FBQyxpQ0FBaUNDO1FBQ2pELE9BQU87WUFDTEosUUFBUUMsR0FBRyxDQUFDO1FBQ2Q7UUFFQSxJQUFJTyxZQUFZO1FBQ2hCLElBQUlDLFVBQVU7UUFFZCxJQUFLLElBQUlDLElBQUksR0FBR0EsSUFBSWpCLFdBQVdTLE1BQU0sRUFBRVEsSUFBSztZQUMxQyxNQUFNQyxPQUFPbEIsVUFBVSxDQUFDaUIsRUFBRTtZQUUxQixJQUFJLENBQUNDLEtBQUtkLFNBQVMsSUFBSSxDQUFDYyxLQUFLYixXQUFXLEVBQUU7Z0JBQ3hDVztnQkFDQTtZQUNGO1lBRUEsSUFBSTtnQkFDRixxREFBcUQ7Z0JBQ3JELElBQUlHLGNBQWNELEtBQUtiLFdBQVc7Z0JBRWxDLDZEQUE2RDtnQkFDN0QsSUFBSWMsWUFBWUMsVUFBVSxDQUFDLFNBQVNELFlBQVlFLFFBQVEsQ0FBQyxPQUFPO29CQUM5RCxJQUFJO3dCQUNGLDZDQUE2Qzt3QkFDN0MsTUFBTUMsY0FBY0MsS0FBSzFCLEtBQUssQ0FBQ3NCLFlBQVlLLE9BQU8sQ0FBQyxNQUFNO3dCQUN6RCxxREFBcUQ7d0JBQ3JETCxjQUFjRyxZQUNYRyxNQUFNLENBQ0wsQ0FBQ0MsT0FBaUJBLFNBQVMsWUFBWSxDQUFDLFFBQVFDLElBQUksQ0FBQ0QsT0FFdERFLElBQUksQ0FBQyxNQUNMQyxJQUFJO29CQUNULEVBQUUsT0FBT0MsWUFBWTt3QkFDbkIsaUNBQWlDO3dCQUNqQ3ZCLFFBQVFDLEdBQUcsQ0FDVCxDQUFDLDJCQUEyQixFQUFFVSxLQUFLZCxTQUFTLENBQUMsZ0JBQWdCLENBQUM7b0JBRWxFO2dCQUNGO2dCQUVBLElBQUksQ0FBQ2UsZUFBZUEsWUFBWVYsTUFBTSxHQUFHLElBQUk7b0JBQzNDTztvQkFDQTtnQkFDRjtnQkFFQSxrREFBa0Q7Z0JBQ2xELE1BQU1lLFlBQVksTUFBTTFDLDBEQUFpQkEsQ0FBQzhCO2dCQUUxQyxpQ0FBaUM7Z0JBQ2pDLE1BQU0sRUFBRVQsS0FBSyxFQUFFLEdBQUcsTUFBTXRCLG9EQUFhQSxDQUFDd0IsSUFBSSxDQUFDLGdCQUFnQm9CLE1BQU0sQ0FBQztvQkFDaEVDLFdBQVdmLEtBQUtkLFNBQVM7b0JBQ3pCOEIsYUFBYWY7b0JBQ2JZLFdBQVdBO2dCQUNiO2dCQUVBLElBQUlyQixPQUFPO29CQUNUSCxRQUFRRyxLQUFLLENBQUMsQ0FBQyxxQkFBcUIsRUFBRVEsS0FBS2QsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFTTtvQkFDekRNO2dCQUNGLE9BQU87b0JBQ0xEO29CQUNBLElBQUlBLFlBQVksUUFBUSxHQUFHO3dCQUN6QlIsUUFBUUMsR0FBRyxDQUFDLENBQUMsWUFBWSxFQUFFTyxVQUFVLFNBQVMsQ0FBQztvQkFDakQ7Z0JBQ0Y7Z0JBRUEsMkNBQTJDO2dCQUMzQyxNQUFNLElBQUlvQixRQUFRLENBQUNDLFVBQVlDLFdBQVdELFNBQVM7WUFDckQsRUFBRSxPQUFPMUIsT0FBTztnQkFDZEgsUUFBUUcsS0FBSyxDQUFDLENBQUMsc0JBQXNCLEVBQUVRLEtBQUtkLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRU07Z0JBQzFETTtZQUNGO1FBQ0Y7UUFFQVQsUUFBUUMsR0FBRyxDQUFDLENBQUMsZ0NBQWdDLENBQUM7UUFDOUNELFFBQVFDLEdBQUcsQ0FBQyxDQUFDLGNBQWMsRUFBRU8sVUFBVSxNQUFNLENBQUM7UUFDOUNSLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLFlBQVksRUFBRVEsUUFBUSxNQUFNLENBQUM7UUFDMUNULFFBQVFDLEdBQUcsQ0FBQyxDQUFDLFVBQVUsRUFBRVIsV0FBV1MsTUFBTSxDQUFDLE1BQU0sQ0FBQztJQUNwRCxFQUFFLE9BQU9DLE9BQU87UUFDZEgsUUFBUUcsS0FBSyxDQUFDLGdDQUFnQ0E7UUFDOUMsTUFBTUE7SUFDUjtBQUNGO0FBRU8sZUFBZTRCLGtCQUNwQkMsU0FBaUIsRUFDakJDLGFBQXFCLENBQUMsRUFDdEJDLGlCQUF5QixLQUFLLHdDQUF3QztBQUF6QztJQUk3QixJQUFJO1FBQ0ZsQyxRQUFRQyxHQUFHLENBQUMsQ0FBQyxnQ0FBZ0MsRUFBRStCLFVBQVUsQ0FBQyxDQUFDO1FBRTNELDhDQUE4QztRQUM5QyxJQUFJO1lBQ0YsTUFBTUcsaUJBQWlCLE1BQU1yRCwwREFBaUJBLENBQUNrRDtZQUUvQyxNQUFNLEVBQUV0QyxNQUFNMEMsZ0JBQWdCLEVBQUVqQyxPQUFPa0MsY0FBYyxFQUFFLEdBQ3JELE1BQU14RCxvREFBYUEsQ0FBQ3lELEdBQUcsQ0FBQyxnQkFBZ0I7Z0JBQ3RDQyxpQkFBaUJKO2dCQUNqQkssaUJBQWlCTjtnQkFDakJPLGFBQWFSO1lBQ2Y7WUFFRixJQUFJLENBQUNJLGtCQUFrQkQsb0JBQW9CQSxpQkFBaUJsQyxNQUFNLEdBQUcsR0FBRztnQkFDdEVGLFFBQVFDLEdBQUcsQ0FDVCxDQUFDLFFBQVEsRUFBRW1DLGlCQUFpQmxDLE1BQU0sQ0FBQywrQkFBK0IsQ0FBQztnQkFFckUsT0FBT2tDLGlCQUFpQnpDLEdBQUcsQ0FBQyxDQUFDK0MsU0FBaUI7d0JBQzVDaEIsV0FBV2dCLE9BQU9oQixTQUFTO3dCQUMzQkMsYUFBYWUsT0FBT2YsV0FBVzt3QkFDL0JnQixZQUFZRCxPQUFPQyxVQUFVO29CQUMvQjtZQUNGO1FBQ0YsRUFBRSxPQUFPTixnQkFBZ0I7WUFDdkJyQyxRQUFRQyxHQUFHLENBQUMsQ0FBQyw0QkFBNEIsRUFBRW9DLGdCQUFnQjtRQUM3RDtRQUVBLHdDQUF3QztRQUN4Q3JDLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLHNDQUFzQyxDQUFDO1FBQ3BELE1BQU0yQyxXQUFXWixVQUNkYSxXQUFXLEdBQ1hDLEtBQUssQ0FBQyxPQUNONUIsTUFBTSxDQUNMLENBQUM2QixPQUNDQSxLQUFLN0MsTUFBTSxHQUFHLEtBQ2QsQ0FBQztnQkFDQztnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTthQUNELENBQUM4QyxRQUFRLENBQUNEO1FBR2pCLElBQUlILFNBQVMxQyxNQUFNLEdBQUcsR0FBRztZQUN2QixrREFBa0Q7WUFDbEQsTUFBTStDLG1CQUFtQkwsU0FDdEJqRCxHQUFHLENBQ0YsQ0FBQ3VELFVBQ0MsQ0FBQyxpQkFBaUIsRUFBRUEsUUFBUSxxQkFBcUIsRUFBRUEsUUFBUSxDQUFDLENBQUMsRUFFaEU3QixJQUFJLENBQUM7WUFFUixNQUFNLEVBQUUzQixNQUFNeUQsV0FBVyxFQUFFaEQsT0FBT2lELFNBQVMsRUFBRSxHQUFHLE1BQU12RSxvREFBYUEsQ0FDaEV3QixJQUFJLENBQUMsZ0JBQ0xnRCxNQUFNLENBQUMsMEJBQ1BDLEVBQUUsQ0FBQ0wsa0JBQ0hNLEtBQUssQ0FBQ3RCO1lBRVQsSUFBSSxDQUFDbUIsYUFBYUQsZUFBZUEsWUFBWWpELE1BQU0sR0FBRyxHQUFHO2dCQUN2REYsUUFBUUMsR0FBRyxDQUNULENBQUMsUUFBUSxFQUNQa0QsWUFBWWpELE1BQU0sQ0FDbkIscUNBQXFDLEVBQUUwQyxTQUFTdkIsSUFBSSxDQUFDLE9BQU87Z0JBRS9ELE9BQU84QixZQUFZeEQsR0FBRyxDQUFDLENBQUMrQyxTQUFZO3dCQUNsQ2hCLFdBQVdnQixPQUFPaEIsU0FBUzt3QkFDM0JDLGFBQWFlLE9BQU9mLFdBQVc7b0JBQ2pDO1lBQ0Y7UUFDRjtRQUVBLDRDQUE0QztRQUM1QzNCLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLGdDQUFnQyxDQUFDO1FBQzlDLE1BQU0sRUFBRVAsTUFBTThELGFBQWEsRUFBRXJELE9BQU9zRCxXQUFXLEVBQUUsR0FBRyxNQUFNNUUsb0RBQWFBLENBQ3BFd0IsSUFBSSxDQUFDLGdCQUNMZ0QsTUFBTSxDQUFDLDBCQUNQRSxLQUFLLENBQUN0QjtRQUVULElBQUksQ0FBQ3dCLGVBQWVELGlCQUFpQkEsY0FBY3RELE1BQU0sR0FBRyxHQUFHO1lBQzdERixRQUFRQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUV1RCxjQUFjdEQsTUFBTSxDQUFDLHlCQUF5QixDQUFDO1lBQ3RFLE9BQU9zRCxjQUFjN0QsR0FBRyxDQUFDLENBQUMrQyxTQUFZO29CQUNwQ2hCLFdBQVdnQixPQUFPaEIsU0FBUztvQkFDM0JDLGFBQWFlLE9BQU9mLFdBQVc7Z0JBQ2pDO1FBQ0Y7UUFFQSw0REFBNEQ7UUFDNUQzQixRQUFRQyxHQUFHLENBQUMsQ0FBQyxtREFBbUQsQ0FBQztRQUNqRSxPQUFPO1lBQ0w7Z0JBQ0V5QixXQUFXO2dCQUNYQyxhQUNFO1lBQ0o7WUFDQTtnQkFDRUQsV0FBVztnQkFDWEMsYUFDRTtZQUNKO1lBQ0E7Z0JBQ0VELFdBQVc7Z0JBQ1hDLGFBQ0U7WUFDSjtTQUNEO0lBQ0gsRUFBRSxPQUFPeEIsT0FBTztRQUNkSCxRQUFRRyxLQUFLLENBQUMsK0JBQStCQTtRQUU3QyxpQkFBaUI7UUFDakIsT0FBTztZQUNMO2dCQUNFdUIsV0FBVztnQkFDWEMsYUFDRTtZQUNKO1NBQ0Q7SUFDSDtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvdGFuaXNoL0RvY3VtZW50cy9BbW9yIEJ1c2luZXNzL0Ftb3ItV2Vic2l0ZS9zcmMvbGliL2x5cmljcy1wcm9jZXNzb3IudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3VwYWJhc2VBZG1pbiB9IGZyb20gXCIuL3N1cGFiYXNlXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZUVtYmVkZGluZyB9IGZyb20gXCIuL2dlbWluaVwiO1xuaW1wb3J0IFBhcGEgZnJvbSBcInBhcGFwYXJzZVwiO1xuaW1wb3J0IGZzIGZyb20gXCJmc1wiO1xuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcblxuZXhwb3J0IGludGVyZmFjZSBMeXJpY3NEYXRhIHtcbiAgc29uZ1RpdGxlOiBzdHJpbmc7XG4gIGhpbmRpTHlyaWNzOiBzdHJpbmc7XG4gIGVuZ2xpc2hUcmFuc2xhdGlvbjogc3RyaW5nO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc0x5cmljc0NTVihjc3ZQYXRoOiBzdHJpbmcpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjc3ZDb250ZW50ID0gZnMucmVhZEZpbGVTeW5jKGNzdlBhdGgsIFwidXRmLThcIik7XG5cbiAgICBjb25zdCByZXN1bHRzID0gUGFwYS5wYXJzZShjc3ZDb250ZW50LCB7XG4gICAgICBoZWFkZXI6IHRydWUsXG4gICAgICBza2lwRW1wdHlMaW5lczogdHJ1ZSxcbiAgICB9KTtcblxuICAgIGNvbnN0IGx5cmljc0RhdGE6IEx5cmljc0RhdGFbXSA9IHJlc3VsdHMuZGF0YS5tYXAoKHJvdzogYW55KSA9PiAoe1xuICAgICAgc29uZ1RpdGxlOiByb3dbXCJTb25nIFRpdGxlXCJdIHx8IFwiXCIsXG4gICAgICBoaW5kaUx5cmljczogcm93W1wiSGluZGkgTHlyaWNzXCJdIHx8IFwiXCIsXG4gICAgICBlbmdsaXNoVHJhbnNsYXRpb246IHJvd1tcIkVuZ2xpc2ggVHJhbnNsYXRpb25zXCJdIHx8IFwiXCIsXG4gICAgfSkpO1xuXG4gICAgY29uc29sZS5sb2coYFByb2Nlc3NpbmcgJHtseXJpY3NEYXRhLmxlbmd0aH0gc29uZ3MuLi5gKTtcblxuICAgIC8vIENsZWFyIGV4aXN0aW5nIGRhdGEgZmlyc3RcbiAgICBjb25zb2xlLmxvZyhcIkNsZWFyaW5nIGV4aXN0aW5nIGx5cmljcyBkYXRhLi4uXCIpO1xuICAgIGNvbnN0IHsgZXJyb3I6IGNsZWFyRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgIC5mcm9tKFwibHlyaWNzX2luZGV4XCIpXG4gICAgICAuZGVsZXRlKClcbiAgICAgIC5uZXEoXCJpZFwiLCAwKTsgLy8gRGVsZXRlIGFsbCByb3dzXG5cbiAgICBpZiAoY2xlYXJFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNsZWFyaW5nIGV4aXN0aW5nIGRhdGE6XCIsIGNsZWFyRXJyb3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhcIuKckyBDbGVhcmVkIGV4aXN0aW5nIGx5cmljcyBkYXRhXCIpO1xuICAgIH1cblxuICAgIGxldCBwcm9jZXNzZWQgPSAwO1xuICAgIGxldCBza2lwcGVkID0gMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbHlyaWNzRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgc29uZyA9IGx5cmljc0RhdGFbaV07XG5cbiAgICAgIGlmICghc29uZy5zb25nVGl0bGUgfHwgIXNvbmcuaGluZGlMeXJpY3MpIHtcbiAgICAgICAgc2tpcHBlZCsrO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gQ2xlYW4gdGhlIEhpbmRpIGx5cmljcyAtIHJlbW92ZSBQeXRob24gbGlzdCBmb3JtYXRcbiAgICAgICAgbGV0IGNsZWFuTHlyaWNzID0gc29uZy5oaW5kaUx5cmljcztcblxuICAgICAgICAvLyBJZiBpdCdzIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgUHl0aG9uIGxpc3QsIHBhcnNlIGl0XG4gICAgICAgIGlmIChjbGVhbkx5cmljcy5zdGFydHNXaXRoKFwiWydcIikgJiYgY2xlYW5MeXJpY3MuZW5kc1dpdGgoXCInXVwiKSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDb252ZXJ0IFB5dGhvbiBsaXN0IHN0cmluZyB0byBhY3R1YWwgYXJyYXlcbiAgICAgICAgICAgIGNvbnN0IGx5cmljc0FycmF5ID0gSlNPTi5wYXJzZShjbGVhbkx5cmljcy5yZXBsYWNlKC8nL2csICdcIicpKTtcbiAgICAgICAgICAgIC8vIEpvaW4gdGhlIGFycmF5IGVsZW1lbnRzLCBza2lwICdMeXJpY3MnIGFuZCBudW1iZXJzXG4gICAgICAgICAgICBjbGVhbkx5cmljcyA9IGx5cmljc0FycmF5XG4gICAgICAgICAgICAgIC5maWx0ZXIoXG4gICAgICAgICAgICAgICAgKGxpbmU6IHN0cmluZykgPT4gbGluZSAhPT0gXCJMeXJpY3NcIiAmJiAhL15cXGQrJC8udGVzdChsaW5lKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIC5qb2luKFwiXFxuXCIpXG4gICAgICAgICAgICAgIC50cmltKCk7XG4gICAgICAgICAgfSBjYXRjaCAocGFyc2VFcnJvcikge1xuICAgICAgICAgICAgLy8gSWYgcGFyc2luZyBmYWlscywgdXNlIG9yaWdpbmFsXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgYENvdWxkIG5vdCBwYXJzZSBseXJpY3MgZm9yICR7c29uZy5zb25nVGl0bGV9LCB1c2luZyBvcmlnaW5hbGBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFjbGVhbkx5cmljcyB8fCBjbGVhbkx5cmljcy5sZW5ndGggPCAxMCkge1xuICAgICAgICAgIHNraXBwZWQrKztcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdlbmVyYXRlIGVtYmVkZGluZyBmb3IgdGhlIGNsZWFuZWQgSGluZGkgbHlyaWNzXG4gICAgICAgIGNvbnN0IGVtYmVkZGluZyA9IGF3YWl0IGdlbmVyYXRlRW1iZWRkaW5nKGNsZWFuTHlyaWNzKTtcblxuICAgICAgICAvLyBJbnNlcnQgaW50byBseXJpY3NfaW5kZXggdGFibGVcbiAgICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pbi5mcm9tKFwibHlyaWNzX2luZGV4XCIpLmluc2VydCh7XG4gICAgICAgICAgc29uZ19uYW1lOiBzb25nLnNvbmdUaXRsZSxcbiAgICAgICAgICBseXJpY3NfdGV4dDogY2xlYW5MeXJpY3MsXG4gICAgICAgICAgZW1iZWRkaW5nOiBlbWJlZGRpbmcsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluc2VydGluZyBzb25nICR7c29uZy5zb25nVGl0bGV9OmAsIGVycm9yKTtcbiAgICAgICAgICBza2lwcGVkKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJvY2Vzc2VkKys7XG4gICAgICAgICAgaWYgKHByb2Nlc3NlZCAlIDEwMCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYOKckyBQcm9jZXNzZWQgJHtwcm9jZXNzZWR9IHNvbmdzLi4uYCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIGEgc21hbGwgZGVsYXkgdG8gYXZvaWQgcmF0ZSBsaW1pdGluZ1xuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCAyMDApKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHByb2Nlc3Npbmcgc29uZyAke3Nvbmcuc29uZ1RpdGxlfTpgLCBlcnJvcik7XG4gICAgICAgIHNraXBwZWQrKztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhgXFxu4pyFIEx5cmljcyBwcm9jZXNzaW5nIGNvbXBsZXRlZCFgKTtcbiAgICBjb25zb2xlLmxvZyhgICAgUHJvY2Vzc2VkOiAke3Byb2Nlc3NlZH0gc29uZ3NgKTtcbiAgICBjb25zb2xlLmxvZyhgICAgU2tpcHBlZDogJHtza2lwcGVkfSBzb25nc2ApO1xuICAgIGNvbnNvbGUubG9nKGAgICBUb3RhbDogJHtseXJpY3NEYXRhLmxlbmd0aH0gc29uZ3NgKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcHJvY2Vzc2luZyBseXJpY3MgQ1NWOlwiLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZpbmRTaW1pbGFyTHlyaWNzKFxuICBxdWVyeVRleHQ6IHN0cmluZyxcbiAgbWF0Y2hDb3VudDogbnVtYmVyID0gNSxcbiAgbWF0Y2hUaHJlc2hvbGQ6IG51bWJlciA9IDAuMDEgLy8gVmVyeSBsb3cgdGhyZXNob2xkIGZvciBiZXR0ZXIgbWF0Y2hlc1xuKTogUHJvbWlzZTxcbiAgQXJyYXk8eyBzb25nX25hbWU6IHN0cmluZzsgbHlyaWNzX3RleHQ6IHN0cmluZzsgc2ltaWxhcml0eT86IG51bWJlciB9PlxuPiB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coYPCflI0gRmluZGluZyBzaW1pbGFyIGx5cmljcyBmb3I6IFwiJHtxdWVyeVRleHR9XCJgKTtcblxuICAgIC8vIFN0cmF0ZWd5IDE6IFRyeSBlbWJlZGRpbmcgc2ltaWxhcml0eSBzZWFyY2hcbiAgICB0cnkge1xuICAgICAgY29uc3QgcXVlcnlFbWJlZGRpbmcgPSBhd2FpdCBnZW5lcmF0ZUVtYmVkZGluZyhxdWVyeVRleHQpO1xuXG4gICAgICBjb25zdCB7IGRhdGE6IGVtYmVkZGluZ1Jlc3VsdHMsIGVycm9yOiBlbWJlZGRpbmdFcnJvciB9ID1cbiAgICAgICAgYXdhaXQgc3VwYWJhc2VBZG1pbi5ycGMoXCJtYXRjaF9seXJpY3NcIiwge1xuICAgICAgICAgIHF1ZXJ5X2VtYmVkZGluZzogcXVlcnlFbWJlZGRpbmcsXG4gICAgICAgICAgbWF0Y2hfdGhyZXNob2xkOiBtYXRjaFRocmVzaG9sZCxcbiAgICAgICAgICBtYXRjaF9jb3VudDogbWF0Y2hDb3VudCxcbiAgICAgICAgfSk7XG5cbiAgICAgIGlmICghZW1iZWRkaW5nRXJyb3IgJiYgZW1iZWRkaW5nUmVzdWx0cyAmJiBlbWJlZGRpbmdSZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgYOKchSBGb3VuZCAke2VtYmVkZGluZ1Jlc3VsdHMubGVuZ3RofSBzb25ncyB2aWEgZW1iZWRkaW5nIHNpbWlsYXJpdHlgXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBlbWJlZGRpbmdSZXN1bHRzLm1hcCgocmVzdWx0OiBhbnkpID0+ICh7XG4gICAgICAgICAgc29uZ19uYW1lOiByZXN1bHQuc29uZ19uYW1lLFxuICAgICAgICAgIGx5cmljc190ZXh0OiByZXN1bHQubHlyaWNzX3RleHQsXG4gICAgICAgICAgc2ltaWxhcml0eTogcmVzdWx0LnNpbWlsYXJpdHksXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlbWJlZGRpbmdFcnJvcikge1xuICAgICAgY29uc29sZS5sb2coYOKaoO+4jyBFbWJlZGRpbmcgc2VhcmNoIGZhaWxlZDogJHtlbWJlZGRpbmdFcnJvcn1gKTtcbiAgICB9XG5cbiAgICAvLyBTdHJhdGVneSAyOiBUZXh0LWJhc2VkIGtleXdvcmQgc2VhcmNoXG4gICAgY29uc29sZS5sb2coYPCflI0gVHJ5aW5nIHRleHQtYmFzZWQga2V5d29yZCBzZWFyY2guLi5gKTtcbiAgICBjb25zdCBrZXl3b3JkcyA9IHF1ZXJ5VGV4dFxuICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgIC5zcGxpdCgvXFxzKy8pXG4gICAgICAuZmlsdGVyKFxuICAgICAgICAod29yZCkgPT5cbiAgICAgICAgICB3b3JkLmxlbmd0aCA+IDIgJiZcbiAgICAgICAgICAhW1xuICAgICAgICAgICAgXCJ0aGVcIixcbiAgICAgICAgICAgIFwiYW5kXCIsXG4gICAgICAgICAgICBcImZvclwiLFxuICAgICAgICAgICAgXCJhcmVcIixcbiAgICAgICAgICAgIFwiYnV0XCIsXG4gICAgICAgICAgICBcIm5vdFwiLFxuICAgICAgICAgICAgXCJ5b3VcIixcbiAgICAgICAgICAgIFwiYWxsXCIsXG4gICAgICAgICAgICBcImNhblwiLFxuICAgICAgICAgICAgXCJoYWRcIixcbiAgICAgICAgICAgIFwiaGVyXCIsXG4gICAgICAgICAgICBcIndhc1wiLFxuICAgICAgICAgICAgXCJvbmVcIixcbiAgICAgICAgICAgIFwib3VyXCIsXG4gICAgICAgICAgICBcIm91dFwiLFxuICAgICAgICAgICAgXCJkYXlcIixcbiAgICAgICAgICAgIFwiZ2V0XCIsXG4gICAgICAgICAgICBcImhhc1wiLFxuICAgICAgICAgICAgXCJoaW1cIixcbiAgICAgICAgICAgIFwiaGlzXCIsXG4gICAgICAgICAgICBcImhvd1wiLFxuICAgICAgICAgICAgXCJpdHNcIixcbiAgICAgICAgICAgIFwibWF5XCIsXG4gICAgICAgICAgICBcIm5ld1wiLFxuICAgICAgICAgICAgXCJub3dcIixcbiAgICAgICAgICAgIFwib2xkXCIsXG4gICAgICAgICAgICBcInNlZVwiLFxuICAgICAgICAgICAgXCJ0d29cIixcbiAgICAgICAgICAgIFwid2hvXCIsXG4gICAgICAgICAgICBcImJveVwiLFxuICAgICAgICAgICAgXCJkaWRcIixcbiAgICAgICAgICAgIFwic2hlXCIsXG4gICAgICAgICAgICBcInVzZVwiLFxuICAgICAgICAgICAgXCJ3YXlcIixcbiAgICAgICAgICAgIFwid2hvXCIsXG4gICAgICAgICAgICBcIm9pbFwiLFxuICAgICAgICAgICAgXCJzaXRcIixcbiAgICAgICAgICAgIFwic2V0XCIsXG4gICAgICAgICAgXS5pbmNsdWRlcyh3b3JkKVxuICAgICAgKTtcblxuICAgIGlmIChrZXl3b3Jkcy5sZW5ndGggPiAwKSB7XG4gICAgICAvLyBTZWFyY2ggZm9yIHNvbmdzIGNvbnRhaW5pbmcgYW55IG9mIHRoZSBrZXl3b3Jkc1xuICAgICAgY29uc3Qgc2VhcmNoQ29uZGl0aW9ucyA9IGtleXdvcmRzXG4gICAgICAgIC5tYXAoXG4gICAgICAgICAgKGtleXdvcmQpID0+XG4gICAgICAgICAgICBgc29uZ19uYW1lLmlsaWtlLiUke2tleXdvcmR9JSxseXJpY3NfdGV4dC5pbGlrZS4lJHtrZXl3b3JkfSVgXG4gICAgICAgIClcbiAgICAgICAgLmpvaW4oXCIsXCIpO1xuXG4gICAgICBjb25zdCB7IGRhdGE6IHRleHRSZXN1bHRzLCBlcnJvcjogdGV4dEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXG4gICAgICAgIC5mcm9tKFwibHlyaWNzX2luZGV4XCIpXG4gICAgICAgIC5zZWxlY3QoXCJzb25nX25hbWUsIGx5cmljc190ZXh0XCIpXG4gICAgICAgIC5vcihzZWFyY2hDb25kaXRpb25zKVxuICAgICAgICAubGltaXQobWF0Y2hDb3VudCk7XG5cbiAgICAgIGlmICghdGV4dEVycm9yICYmIHRleHRSZXN1bHRzICYmIHRleHRSZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgYOKchSBGb3VuZCAke1xuICAgICAgICAgICAgdGV4dFJlc3VsdHMubGVuZ3RoXG4gICAgICAgICAgfSBzb25ncyB2aWEgdGV4dCBzZWFyY2ggZm9yIGtleXdvcmRzOiAke2tleXdvcmRzLmpvaW4oXCIsIFwiKX1gXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB0ZXh0UmVzdWx0cy5tYXAoKHJlc3VsdCkgPT4gKHtcbiAgICAgICAgICBzb25nX25hbWU6IHJlc3VsdC5zb25nX25hbWUsXG4gICAgICAgICAgbHlyaWNzX3RleHQ6IHJlc3VsdC5seXJpY3NfdGV4dCxcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFN0cmF0ZWd5IDM6IFJhbmRvbSBwb3B1bGFyIHNvbmdzIGZhbGxiYWNrXG4gICAgY29uc29sZS5sb2coYPCfjrIgVXNpbmcgcmFuZG9tIHNvbmcgZmFsbGJhY2suLi5gKTtcbiAgICBjb25zdCB7IGRhdGE6IHJhbmRvbVJlc3VsdHMsIGVycm9yOiByYW5kb21FcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgICAgLmZyb20oXCJseXJpY3NfaW5kZXhcIilcbiAgICAgIC5zZWxlY3QoXCJzb25nX25hbWUsIGx5cmljc190ZXh0XCIpXG4gICAgICAubGltaXQobWF0Y2hDb3VudCk7XG5cbiAgICBpZiAoIXJhbmRvbUVycm9yICYmIHJhbmRvbVJlc3VsdHMgJiYgcmFuZG9tUmVzdWx0cy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zb2xlLmxvZyhg4pyFIFVzaW5nICR7cmFuZG9tUmVzdWx0cy5sZW5ndGh9IHJhbmRvbSBzb25ncyBhcyBmYWxsYmFja2ApO1xuICAgICAgcmV0dXJuIHJhbmRvbVJlc3VsdHMubWFwKChyZXN1bHQpID0+ICh7XG4gICAgICAgIHNvbmdfbmFtZTogcmVzdWx0LnNvbmdfbmFtZSxcbiAgICAgICAgbHlyaWNzX3RleHQ6IHJlc3VsdC5seXJpY3NfdGV4dCxcbiAgICAgIH0pKTtcbiAgICB9XG5cbiAgICAvLyBTdHJhdGVneSA0OiBIYXJkY29kZWQgZmFsbGJhY2sgZm9yIHdoZW4gZGF0YWJhc2UgaXMgZW1wdHlcbiAgICBjb25zb2xlLmxvZyhg4pqg77iPIERhdGFiYXNlIGFwcGVhcnMgZW1wdHksIHVzaW5nIGhhcmRjb2RlZCBmYWxsYmFja2ApO1xuICAgIHJldHVybiBbXG4gICAgICB7XG4gICAgICAgIHNvbmdfbmFtZTogXCJZZWggRG9zdGlcIixcbiAgICAgICAgbHlyaWNzX3RleHQ6XG4gICAgICAgICAgXCJZZWggZG9zdGkgaHVtIG5haGluIHRvZGhlbmdlXFxuVG9kaGVuZ2UgZHVtIG1hZ2FyXFxuVGVyYSBzYWF0aCBuYSBjaGhvZGVuZ2VcIixcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHNvbmdfbmFtZTogXCJIYWFuIEphYiBUYWsgSGFpbiBKYWFuXCIsXG4gICAgICAgIGx5cmljc190ZXh0OlxuICAgICAgICAgIFwiSGFhbiBqYWIgdGFrIGhhaW4gamFhblxcbkphYW5lIGphaGFhbiBtYWluIG5hYWNob29uZ2lcXG5QeWFyIGthYmhpIGJoaSBtYXJ0YSBuYWhpblwiLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgc29uZ19uYW1lOiBcIktvaSBIYXNlZW5hXCIsXG4gICAgICAgIGx5cmljc190ZXh0OlxuICAgICAgICAgIFwiS29pIGhhc2VlbmEgamFiIHJvb3RoIGphYXRpIGhhaW4gdG9oXFxuQXVyIGJoaSBoYXNlZW4gaG8gamFhdGkgaGFpblwiLFxuICAgICAgfSxcbiAgICBdO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBmaW5kU2ltaWxhckx5cmljczpcIiwgZXJyb3IpO1xuXG4gICAgLy8gRmluYWwgZmFsbGJhY2tcbiAgICByZXR1cm4gW1xuICAgICAge1xuICAgICAgICBzb25nX25hbWU6IFwiQ2xhc3NpYyBIaW5kaSBTb25nXCIsXG4gICAgICAgIGx5cmljc190ZXh0OlxuICAgICAgICAgIFwiRGlsIG1laW4gYmFzaSBoYWkgdGVyaSB5YWFkXFxuU2Fwbm8gbWVpbiBhYXRhIGhhaSB0ZXJhIGNoZWhyYVxcbk1vaGFiYmF0IGtpIHllaCBrYWhhbmlcIixcbiAgICAgIH0sXG4gICAgXTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbInN1cGFiYXNlQWRtaW4iLCJnZW5lcmF0ZUVtYmVkZGluZyIsIlBhcGEiLCJmcyIsInByb2Nlc3NMeXJpY3NDU1YiLCJjc3ZQYXRoIiwiY3N2Q29udGVudCIsInJlYWRGaWxlU3luYyIsInJlc3VsdHMiLCJwYXJzZSIsImhlYWRlciIsInNraXBFbXB0eUxpbmVzIiwibHlyaWNzRGF0YSIsImRhdGEiLCJtYXAiLCJyb3ciLCJzb25nVGl0bGUiLCJoaW5kaUx5cmljcyIsImVuZ2xpc2hUcmFuc2xhdGlvbiIsImNvbnNvbGUiLCJsb2ciLCJsZW5ndGgiLCJlcnJvciIsImNsZWFyRXJyb3IiLCJmcm9tIiwiZGVsZXRlIiwibmVxIiwicHJvY2Vzc2VkIiwic2tpcHBlZCIsImkiLCJzb25nIiwiY2xlYW5MeXJpY3MiLCJzdGFydHNXaXRoIiwiZW5kc1dpdGgiLCJseXJpY3NBcnJheSIsIkpTT04iLCJyZXBsYWNlIiwiZmlsdGVyIiwibGluZSIsInRlc3QiLCJqb2luIiwidHJpbSIsInBhcnNlRXJyb3IiLCJlbWJlZGRpbmciLCJpbnNlcnQiLCJzb25nX25hbWUiLCJseXJpY3NfdGV4dCIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImZpbmRTaW1pbGFyTHlyaWNzIiwicXVlcnlUZXh0IiwibWF0Y2hDb3VudCIsIm1hdGNoVGhyZXNob2xkIiwicXVlcnlFbWJlZGRpbmciLCJlbWJlZGRpbmdSZXN1bHRzIiwiZW1iZWRkaW5nRXJyb3IiLCJycGMiLCJxdWVyeV9lbWJlZGRpbmciLCJtYXRjaF90aHJlc2hvbGQiLCJtYXRjaF9jb3VudCIsInJlc3VsdCIsInNpbWlsYXJpdHkiLCJrZXl3b3JkcyIsInRvTG93ZXJDYXNlIiwic3BsaXQiLCJ3b3JkIiwiaW5jbHVkZXMiLCJzZWFyY2hDb25kaXRpb25zIiwia2V5d29yZCIsInRleHRSZXN1bHRzIiwidGV4dEVycm9yIiwic2VsZWN0Iiwib3IiLCJsaW1pdCIsInJhbmRvbVJlc3VsdHMiLCJyYW5kb21FcnJvciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/lyrics-processor.ts\n");

/***/ })

};
;